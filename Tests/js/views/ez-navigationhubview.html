<!doctype html>
<html>
<head>
    <title>eZ Navigation Hub view tests</title>
    <link rel="stylesheet" href="../../../Resources/public/css/navigationhubview.css" />
    <style>
        /* to make sure the corresponding sub menu is outside of the viewport */
        .ez-view-navigationhubview .ez-more { margin-right: -1em; }
    </style>
</head>
<body>

<div class="container ez-view-navigationhubview"></div>

<script type="text/x-handlebars-template" id="navigationhubview-ez-template">
    <ul class="ez-zones-navigation">
        <li class="ez-zone ez-create-zone" data-navigation="create">Create</li>
        <li class="ez-zone ez-optimize-zone" data-navigation="optimize">Optimize</li>
    </ul>
    <nav class="ez-navigation">
        <ul class="ez-navigation-create">
            <li class="ez-sub-menu-link">
                <a class="ez-navigation-item" href="#">Insite editing</a>
                <ul class="ez-sub-menu">
                    <li><a class="ez-navigation-item" href="#">Site 1</a></li>
                    <li><a class="ez-navigation-item" href="#">Site 2</a></li>
                    <li><a class="ez-navigation-item" href="#">A very very very long site name</a></li>
                    <li><a class="ez-navigation-item" href="#">Site 4</a></li>
                </ul>
            </li>
            <li><a class="ez-navigation-item" href="#">Extensions 1</a></li>
            <li><a class="ez-navigation-item" href="#">Extensions 2</a></li>
            <li><a class="ez-navigation-item" href="#">Extensions 3</a></li>
            <li><a class="ez-navigation-item" href="#">Extensions 4</a></li>
            <li><a class="ez-navigation-item" href="#">Extensions 5</a></li>
            <li><a class="ez-navigation-item" href="#">Extensions 6</a></li>
            <li><a class="ez-navigation-item" href="#">Extensions 7</a></li>
            <li><a class="ez-navigation-item" href="#">Extensions 8</a></li>
            <li><a class="ez-navigation-item" href="#">Extensions 9</a></li>
            <li><a class="ez-navigation-item" href="#">Extensions 10</a></li>
            <li class="ez-more ez-sub-menu-link">
                <a href="#" class="ez-navigation-item">More</a>
                <ul class="ez-sub-menu">
                    <li><a class="ez-navigation-item" href="#">Extensions 11</a></li>
                    <li><a class="ez-navigation-item" href="#">Extensions 12</a></li>
                    <li><a class="ez-navigation-item" href="#">Extensions 13</a></li>
                    <li><a class="ez-navigation-item" href="#">Extensions 14</a></li>
                    <li><a class="ez-navigation-item" href="#">Extensions 15</a></li>
                    <li><a class="ez-navigation-item last" href="#">Extensions 16</a></li>
                </ul>
            </li>
        </ul>
        <ul class="ez-navigation-optimize">
            <li><a class="ez-navigation-item" href="#">Optimize 1</a></li>
            <li><a class="ez-navigation-item" href="#">Optimize 2</a></li>
            <li><a class="ez-navigation-item" href="#">Optimize 3</a></li>
            <li><a class="ez-navigation-item" href="#">Optimize 4</a></li>
            <li><a class="ez-navigation-item" href="#">Optimize 5</a></li>
            <li><a class="ez-navigation-item" href="#">Optimize 6</a></li>
            <li><a class="ez-navigation-item" href="#">Optimize 7</a></li>
            <li><a class="ez-navigation-item" href="#">Optimize 8</a></li>
            <li><a class="ez-navigation-item" href="#">Optimize 9</a></li>
            <li><a class="ez-navigation-item" href="#">Optimize 10</a></li>
            <li><a class="ez-navigation-item" href="#">Optimize 11</a></li>
            <li><a class="ez-navigation-item" href="#">Optimize 12</a></li>
            <li><a class="ez-navigation-item" href="#">Optimize 13</a></li>
            <li><a class="ez-navigation-item" href="#">Optimize 14</a></li>
            <li><a class="ez-navigation-item" href="#">Optimize 15</a></li>
            <li><a class="ez-navigation-item" href="#">Optimize 16</a></li>
            <li><a class="ez-navigation-item" href="#">Optimize 17</a></li>
            <li class="ez-more ez-sub-menu-link">
                <a href="#" class="ez-navigation-item">More</a>
                <ul class="ez-sub-menu"></ul>
            </li>
        </ul>
    </nav>
</script>

<script type="text/javascript" src="../../../node_modules/yui/yui/yui.js"></script>
<script type="text/javascript" src="./assets/ez-navigationhubview-tests.js"></script>
<script>
    var filter = (window.location.search.match(/[?&]filter=([^&]+)/) || [])[1] || 'raw',
            loaderFilter;
    if (filter == 'coverage'){
        loaderFilter = {
            searchExp : "/Resources/",
            replaceStr: "/Tests/instrument/Resources/"
        };
    } else {
        loaderFilter = filter;
    }

    YUI({
        coverage: ['ez-navigationhubview'],
        filter: loaderFilter,
        modules: {
            "ez-navigationhubview": {
                requires: ['ez-templatebasedview', 'event-tap', 'node-screen', 'node-style', 'event-outside'],
                fullpath: "../../../Resources/public/js/views/ez-navigationhubview.js"
            },
            "ez-templatebasedview": {
                requires: ['ez-view', 'handlebars'],
                fullpath: "../../../Resources/public/js/views/ez-templatebasedview.js"
            },
            "ez-view": {
                requires: ['view'],
                fullpath: "../../../Resources/public/js/views/ez-view.js"
            },
        }
    }).use('ez-navigationhubview-tests', function (Y) {
        Y.Test.Runner.run();
    });
</script>
</body>
</html>
